<div ng-controller="PictureManagementCtrl">
    <div class="wrapper-md bg-light b-b">
        <h1 class="m-n font-thin h3">图片管理</h1>
    </div>
    <div class="wrapper-md ng-scope">
        <div id="toast-container" ng-class="config.position"
             toaster-options="{'position-class': 'toast-top-right', 'close-button':true}"
             class="ng-scope toast-top-right"><!-- ngRepeat: toaster in toasters --></div>
        <div class="panel panel-default">
            <div class="row wrapper">
                <div class="col-sm-6">
                    <select class="input-sm form-control w-sm inline v-middle ng-pristine ng-valid ng-touched"
                            ng-change="loadData(selectedType)" ng-model="selectedType"
                            ng-options="type.codeName for type in types">
                        <option value="" class="">——请选择图片种类——</option>
                    </select>
                    <button class="btn btn-sm btn-primary btn-addon" ng-click="add()"><i
                            class="fa fa-plus"></i>增加
                    </button>
                    <button class="btn btn-sm btn-primary btn-addon" ng-show="flag" ng-click="loadData(selectedType)"><i
                            class="fa fa-reply"></i>返回
                    </button>
                </div>
                <div class="col-sm-6">
                    <input class="input-sm form-control w-sm inline v-middle ng-pristine ng-valid ng-touched"
                           ng-model="searchYear" placeholder="年"
                    >
                    <input class="input-sm form-control w-sm inline v-middle ng-pristine ng-valid ng-touched"
                           ng-model="searchMonth" placeholder="月"
                    >
                    <input class="input-sm form-control w-sm inline v-middle ng-pristine ng-valid ng-touched"
                           ng-model="searchDay" placeholder="日"
                    >
                    <button class="btn btn-sm btn-primary btn-addon" ng-click="search(searchYear,searchMonth,searchDay,selectedType)">搜索
                    </button>
                </div>
            </div>
            <div>
                <!-- 表格 -->
                <table class="table table-striped b-t m-b-none">
                    <thead>
                    <tr>
                        <th>序号</th>
                        <th>图片</th>
                        <th>图片名称</th>
                        <th>年</th>
                        <th>月</th>
                        <th>日</th>
                        <th>操作</th>
                    </tr>
                    </thead>
                    <tbody>
                    <div id='content'>
                        <!-- ngRepeat: nav in items -->
                        <tr ng-repeat="item in pictures">
                            <td class="ng-binding">{{$index+1}}</td>
                            <td><img ng-src="{{item.url}}" alt="" class="img-thumbnail thumb-xl" ng-click="display(item)"></td>
                            <td class="ng-binding">{{item.picName}}</td>
                            <td class="ng-binding">{{item.year}}</td>
                            <td class="ng-binding">{{item.month}}</td>
                            <td class="ng-binding">{{item.day}}</td>
                            <td>
                                <button class="btn btn-danger m-b-xs btn-sm" ng-click="delete(item)">
                                    <i class="m-r-xs fa fa-times fa-fw"></i>删除
                                </button>
                            </td>
                        </tr>
                    </div>
                    </tbody>
                </table>
                <!-- 分页控件 -->
                <div>
                    <ul class="pager">
                        <li ng-class="{disabled:currentPage == 1}">
                            <a ng-disabled="currentPage <= 1" ng-click="Previous()">
                                <span>上一页</span>
                            </a>
                        </li>
                        <li>
                            &nbsp;<input style="border: none;width: 14px;" type="text" ng-blur="goToPage()"
                                         ng-model="currentPage">&nbsp;/&nbsp;{{totalPage}}
                        </li>
                        <li ng-class="{disabled:currentPage == totalPage}">
                            <a ng-disabled="currentPage >= totalPage" ng-click="Next()">
                                <span>下一页</span>
                            </a>
                        </li>
                    </ul>
                </div>
                <!-- 分页控件 -->
            </div>
        </div>
    </div>
</div>

